<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Manage Shifts</title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../content/jquery.deletebutton.js"></script>
    <script type="text/javascript" src="../content/topnav.js"></script>
    <!--<link type="text/css" rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" />-->
    <link type="text/css" rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/sunny/jquery-ui.css" />
    <link rel="stylesheet" type="text/css" href="../content/base.css" />
</head>
<body>
    <script type="text/javascript">
        $(function () {
            $("#catalog li").draggable({
                //appendTo: "body",
                helper: "clone"
                //                start: function (event, ui) {
                //                    $(event.currentTarget).hide();
                //                }
            });
            $(".cart ul").droppable({
                activeClass: "ui-state-default",
                hoverClass: "ui-state-hover",
                accept: ":not(.ui-sortable-helper)",
                drop: function (event, ui) {
                    //$(this).find(".placeholder").remove();
                    $('<li></li>').text(ui.draggable.text())
                        .deletebutton({
                            confirm: "Are you sure you want to remove " + ui.draggable.text() + " from this shift?",
                            label: "Remove from shift"
                        })
                        .appendTo(this);
                    // ajax call to save change
                }
            }).sortable({
                items: "li:not(.placeholder)",
                sort: function () {
                    // gets added unintentionally by droppable interacting with sortable
                    // using connectWithSortable fixes this, but doesn't allow you to customize active/hoverClass options
                    $(this).removeClass("ui-state-default");
                }
            });
        });
    </script>
    <div id="content">
        <div id="products">
            <h2 class="ui-widget-header">
                Members</h2>
            <div id="catalog" class="ui-widget-content">
                <ul>
                    <li>Samuel Nissim</li>
                    <li>James Gray</li>
                    <li>Raul Aso</li>
                    <li>Daniel Allen</li>
                    <li>Scott Leonard</li>
                    <li>Megan O'Gorman</li>
                    <li>Kellie Corr</li>
                    <li>Nicole Barth</li>
                    <li>Eugenia Klim</li>
                </ul>
            </div>
        </div>
        <div id="shift1" class="cart cart-float">
            <h2 class="ui-widget-header">
                11am-2pm</h2>
            <div class="ui-widget-content">
                <ul>
                    <li class="placeholder">Drag members here</li>
                </ul>
            </div>
        </div>
        <div id="shift2" class="cart cart-float">
            <h2 class="ui-widget-header">
                2pm-5pm</h2>
            <div class="ui-widget-content">
                <ul>
                    <li class="placeholder">Drag members here</li>
                </ul>
            </div>
        </div>
        <div id="shift1" class="cart cart-float">
            <h2 class="ui-widget-header">
                5pm-8pm</h2>
            <div class="ui-widget-content">
                <ul>
                    <li class="placeholder">Drag members here</li>
                </ul>
            </div>
        </div>
        <div style="clear: both;">
        </div>
    </div>
</body>
</html>
